var ne=Object.defineProperty,oe=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var W=(e,t,r)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))ie.call(t,r)&&W(e,r,t[r]);if(I)for(var r of I(t))ae.call(t,r)&&W(e,r,t[r]);return e},S=(e,t)=>oe(e,se(t));import{r as x,u as ce,a as A,b as q,c as ue,o as u,d as _,e as g,f as _e,g as le,h as v,w as $,i as de,j as B,F as P,k as b,t as p,p as C,l as ve,m as pe,n as L,q as l,s as H,v as F,x as fe,y as me}from"./vendor.5679a34a.js";let K;const N=window.location.origin;function j(e){const t=e.target.closest("a");t&&t.href.startsWith(N)&&t.target!=="_blank"&&!e.defaultPrevented&&e.button===0&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&(e.preventDefault(),K.push({path:t.href.slice(N.length)}))}const he=e=>{e.directive("kirbytext",{mounted(t,r){K=r.instance.$router,t.addEventListener("click",j)},beforeUnmount(t){t.removeEventListener("click",j)}})};var ge=Object.freeze(Object.defineProperty({__proto__:null,install:he},Symbol.toStringTag,{value:"Module"}));const ye="modulepreload",M={},we="/dist/",c=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${we}${n}`,n in M)return;M[n]=!0;const o=n.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":ye,o||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),o)return new Promise((a,m)=>{i.addEventListener("load",a),i.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())},D={politeness:"polite"},y=x({content:"",politeness:D.politeness}),R=(e,t=D.politeness)=>{z(),y.politeness=t,y.content=e},Ee=e=>{R(e,"polite")},ke=e=>{R(e,"assertive")},z=()=>{y.content="",y.politeness=D.politeness};var J=()=>({announcer:y,setAnnouncer:R,announcePolite:Ee,announceAssertive:ke,resetAnnouncer:z});const h=new Map,Y=async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Request ${e} failed with "${t.statusText}".`);return await t.json()},O=e=>{const{isMultilang:t,languageCode:r}=G();let n="";return t&&(n+=`/${r}`),n+="/app",n+=`/${e}`,n},$e=async(e,{revalidate:t=!1,token:r}={})=>{let n;const o=h.has(e),s=O(r?`${e}.json?token=${r}`:`${e}.json`);if(!t&&o)return h.get(e);try{n=await Y(s)}catch(i){return console.error(i),!1}return(!o||t)&&h.set(e,n),n},be=e=>h.has(e);var Pe=()=>({apiUri:O,fetcher:Y,cache:h,hasPage:be,getPage:$e});const Oe=!1,xe=document.documentElement.lang;var G=()=>({isMultilang:Oe,languageCode:xe}),Ae=e=>{const t=ce(),{path:r,query:n}=A(),{hasPage:o,getPage:s}=Pe(),{setAnnouncer:i}=J();let a=(e!=null?e:r).replace(/^\/|\/$/g,"");const m=n.token;a||(a="home");let E;const re=new Promise(f=>{E=f}),d=x({__status:"pending",isReady:!1,isReadyPromise:()=>re});return(async()=>{o(a);const f=await s(a,{token:m});if(!f){d.__status="error";return}if(!e){if(f.__isErrorPage&&r!=="/error"){t.replace({path:"/error"});return}if(f.__isOffline){t.replace({path:"/offline"});return}}Object.assign(d,f),d.__status="resolved",d.isReady=!0,E==null||E(),e||(document.title=d.metaTitle,i(`Navigated to ${d.title}`))})(),q(d)};const Le=ue(!1);let w;new Promise(e=>{document.readyState==="complete"?e():window.addEventListener("load",e)});const De=async(e="/service-worker.js",t={})=>{const{registrationOptions:r={}}=t;delete t.registrationOptions;const n=(o,...s)=>{t&&t[o]&&t[o](...s)};try{const o=await navigator.serviceWorker.register(e,r);n("registered",o),o.waiting?(w=o.waiting,n("updated",o)):o.addEventListener("updatefound",()=>{n("updatefound",o);const s=o.installing;s.addEventListener("statechange",()=>{s.state==="installed"&&(navigator.serviceWorker.controller?(w=o.waiting,n("updated",o)):n("cached",o))})})}catch(o){navigator.onLine||n("offline"),n("error",o)}navigator.serviceWorker.ready.then(o=>{n("ready",o)})},Q=async()=>{(await navigator.serviceWorker.ready).unregister()},Re=()=>{!w||w.postMessage({command:"skipWaiting"})},Te=async()=>{if(!("serviceWorker"in navigator))return;!!navigator.serviceWorker.controller&&Q()};var X=()=>({register:De,unregister:Q,hasNewWorker:Le,newWorker:w,activateNewWorker:Re,initSw:Te});const Ie=JSON.parse(document.getElementById("site-data").textContent),We=x(Ie);var T=()=>q(We),Z=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r};const Ve={},Se={class:"intro"};function Ce(e,t){return u(),_("header",Se,[g("h1",null,[_e(e.$slots,"default")])])}var Ne=Z(Ve,[["render",Ce]]);const je={setup(){return{page:Ae()}}},Me=["innerHTML"];function Ue(e,t,r,n,o,s){const i=Ne,a=le("kirbytext");return u(),_(P,null,[v(i,null,{default:$(()=>[b(p(n.page.title),1)]),_:1}),n.page.isReady?de((u(),_("div",{key:0,class:"text",innerHTML:n.page.text},null,8,Me)),[[a]]):B("",!0)],64)}var k=Z(je,[["render",Ue],["__scopeId","data-v-7de4c88c"]]),ee=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));function qe(e){switch(e){case"../views/About.vue":return c(()=>import("./About.f8f64e58.js"),["assets/About.f8f64e58.js","assets/About.4c3c5c15.css","assets/vendor.5679a34a.js"]);case"../views/Album.vue":return c(()=>import("./Album.4810328c.js"),["assets/Album.4810328c.js","assets/Album.56346695.css","assets/vendor.5679a34a.js"]);case"../views/Default.vue":return c(()=>Promise.resolve().then(function(){return ee}),void 0);case"../views/Error.vue":return c(()=>import("./Error.320ec808.js"),["assets/Error.320ec808.js","assets/Error.e30c41b7.css","assets/vendor.5679a34a.js"]);case"../views/Home.vue":return c(()=>import("./Home.0af43086.js"),["assets/Home.0af43086.js","assets/Home.160fdefc.css","assets/vendor.5679a34a.js"]);case"../views/Note.vue":return c(()=>import("./Note.251a4a90.js"),["assets/Note.251a4a90.js","assets/Note.99cbea75.css","assets/vendor.5679a34a.js"]);case"../views/Notes.vue":return c(()=>import("./Notes.0e4df474.js"),["assets/Notes.0e4df474.js","assets/Notes.6298f7e3.css","assets/vendor.5679a34a.js"]);case"../views/Works.vue":return c(()=>import("./Works.4e02e29d.js"),["assets/Works.4e02e29d.js","assets/Works.803aac76.css","assets/vendor.5679a34a.js"]);default:return new Promise(function(t,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}function Be(e){switch(e){case"../views/About.vue":return c(()=>import("./About.f8f64e58.js"),["assets/About.f8f64e58.js","assets/About.4c3c5c15.css","assets/vendor.5679a34a.js"]);case"../views/Album.vue":return c(()=>import("./Album.4810328c.js"),["assets/Album.4810328c.js","assets/Album.56346695.css","assets/vendor.5679a34a.js"]);case"../views/Default.vue":return c(()=>Promise.resolve().then(function(){return ee}),void 0);case"../views/Error.vue":return c(()=>import("./Error.320ec808.js"),["assets/Error.320ec808.js","assets/Error.e30c41b7.css","assets/vendor.5679a34a.js"]);case"../views/Home.vue":return c(()=>import("./Home.0af43086.js"),["assets/Home.0af43086.js","assets/Home.160fdefc.css","assets/vendor.5679a34a.js"]);case"../views/Note.vue":return c(()=>import("./Note.251a4a90.js"),["assets/Note.251a4a90.js","assets/Note.99cbea75.css","assets/vendor.5679a34a.js"]);case"../views/Notes.vue":return c(()=>import("./Notes.0e4df474.js"),["assets/Notes.0e4df474.js","assets/Notes.6298f7e3.css","assets/vendor.5679a34a.js"]);case"../views/Works.vue":return c(()=>import("./Works.4e02e29d.js"),["assets/Works.4e02e29d.js","assets/Works.803aac76.css","assets/vendor.5679a34a.js"]);default:return new Promise(function(t,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const He=(e,t,r)=>{const n=document.documentElement.style.scrollBehavior||"auto";return r?S(V({},r),{behavior:n}):e.hash?{el:decodeURI(e.hash),behavior:n}:{top:0,behavior:n}},Fe=e=>{const t=T(),{isMultilang:r,languageCode:n}=G(),o=r?`/${n}/`:"",s=[...t.children.map(a=>({path:`/${a.uri}`,component:()=>Be(`../views/${C(a.template)}.vue`).catch(()=>k)})),...t.children.filter(a=>a.childTemplate).map(a=>({path:`/${a.uri}/:id`,component:()=>qe(`../views/${C(a.childTemplate)}.vue`).catch(()=>k)}))];s.find(({path:a})=>a==="/home").path="/",s.push({path:"/home",redirect:"/"}),s.push({path:"/:pathMatch(.*)*",component:k});const i=ve({history:pe(o),routes:s,scrollBehavior:He});e.use(i)};var Ke=Object.freeze(Object.defineProperty({__proto__:null,install:Fe},Symbol.toStringTag,{value:"Module"}));const ze={class:"footer"},Je={class:"social"},Ye=["href"],Ge={setup(e){const t=T();return(r,n)=>{const o=L("router-link");return u(),_("footer",ze,[v(o,{to:"/"},{default:$(()=>[b(" \xA9 "+p(new Date().getFullYear())+" / "+p(l(t).title),1)]),_:1}),g("nav",Je,[(u(!0),_(P,null,H(l(t).social,s=>(u(),_("a",{key:s.url,href:s.url},p(s.platform),9,Ye))),128))])])}}};const Qe={"aria-live":"polite"},Xe={setup(e){const{hasNewWorker:t,activateNewWorker:r}=X();return(n,o)=>(u(),_("aside",Qe,[l(t)?(u(),_("button",{key:0,id:"update-notification",onClick:o[0]||(o[0]=(...s)=>l(r)&&l(r)(...s))}," New app version available. Click to install. ")):B("",!0)]))}};const Ze={class:"header"},et={id:"menu",class:"menu"},tt={setup(e){const t=T(),r=A();return(n,o)=>{const s=L("router-link");return u(),_("header",Ze,[v(s,{to:"/",class:"logo"},{default:$(()=>[b(p(l(t).title),1)]),_:1}),g("nav",et,[(u(!0),_(P,null,H(l(t).children.filter(i=>i.isListed),i=>(u(),F(s,{key:i.uri,to:`/${i.uri}`,class:fe({"router-link-active":l(r).path.startsWith(`/${i.uri}/`)})},{default:$(()=>[b(p(i.title),1)]),_:2},1032,["to","class"]))),128))])])}}};const rt=["aria-live","textContent"],nt={setup(e){const{announcer:t}=J();return(r,n)=>(u(),_("div",{id:"announcer","aria-live":l(t).politeness,textContent:p(l(t).content)},null,8,rt))}},ot={class:"page"},st={id:"main",tabindex:"-1"},it={setup(e){const t=A();return(r,n)=>{const o=nt,s=tt,i=L("router-view"),a=Xe,m=Ge;return u(),_(P,null,[v(o),g("div",ot,[v(s),g("main",st,[(u(),F(i,{key:l(t).path}))])]),v(a),v(m)],64)}}};const te=me(it);var U;for(const e of Object.values({"./modules/kirbytext.js":ge,"./modules/router.js":Ke}))(U=e.install)==null||U.call(e,te);te.mount("#app");const{initSw:at}=X();at();export{Z as _,Ne as a,Ae as u};
