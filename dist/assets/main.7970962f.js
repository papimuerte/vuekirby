var oe=Object.defineProperty,se=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var S=(e,t,r)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C=(e,t)=>{for(var r in t||(t={}))ae.call(t,r)&&S(e,r,t[r]);if(I)for(var r of I(t))ce.call(t,r)&&S(e,r,t[r]);return e},V=(e,t)=>se(e,ie(t));import{r as O,u as ue,a as P,b as U,c as B,o as u,d as _,e as y,f as _e,g as le,h as d,w as $,i as de,j as H,F as L,k as b,t as p,p as W,l as ve,m as pe,n as A,q as l,s as z,v as F,x as fe,y as me,z as he,A as ge}from"./vendor.b677c224.js";let K;const N=window.location.origin;function j(e){const t=e.target.closest("a");t&&t.href.startsWith(N)&&t.target!=="_blank"&&!e.defaultPrevented&&e.button===0&&!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&(e.preventDefault(),K.push({path:t.href.slice(N.length)}))}const ye=e=>{e.directive("kirbytext",{mounted(t,r){K=r.instance.$router,t.addEventListener("click",j)},beforeUnmount(t){t.removeEventListener("click",j)}})};var we=Object.freeze(Object.defineProperty({__proto__:null,install:ye},Symbol.toStringTag,{value:"Module"}));const ke="modulepreload",M={},Ee="/dist/",c=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${Ee}${n}`,n in M)return;M[n]=!0;const o=n.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":ke,o||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),o)return new Promise((a,h)=>{i.addEventListener("load",a),i.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())},T={politeness:"polite"},w=O({content:"",politeness:T.politeness}),D=(e,t=T.politeness)=>{J(),w.politeness=t,w.content=e},$e=e=>{D(e,"polite")},be=e=>{D(e,"assertive")},J=()=>{w.content="",w.politeness=T.politeness};var Y=()=>({announcer:w,setAnnouncer:D,announcePolite:$e,announceAssertive:be,resetAnnouncer:J});const g=new Map,G=async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Request ${e} failed with "${t.statusText}".`);return await t.json()},x=e=>{const{isMultilang:t,languageCode:r}=Q();let n="";return t&&(n+=`/${r}`),n+="/app",n+=`/${e}`,n},Pe=async(e,{revalidate:t=!1,token:r}={})=>{let n;const o=g.has(e),s=x(r?`${e}.json?token=${r}`:`${e}.json`);if(!t&&o)return g.get(e);try{n=await G(s)}catch(i){return console.error(i),!1}return(!o||t)&&g.set(e,n),n},Le=e=>g.has(e);var xe=()=>({apiUri:x,fetcher:G,cache:g,hasPage:Le,getPage:Pe});const Oe=!1,Ae=document.documentElement.lang;var Q=()=>({isMultilang:Oe,languageCode:Ae}),Te=e=>{const t=ue(),{path:r,query:n}=P(),{hasPage:o,getPage:s}=xe(),{setAnnouncer:i}=Y();let a=(e!=null?e:r).replace(/^\/|\/$/g,"");const h=n.token;a||(a="home");let f;const ne=new Promise(m=>{f=m}),v=O({__status:"pending",isReady:!1,isReadyPromise:()=>ne});return(async()=>{o(a);const m=await s(a,{token:h});if(!m){v.__status="error";return}if(!e){if(m.__isErrorPage&&r!=="/error"){t.replace({path:"/error"});return}if(m.__isOffline){t.replace({path:"/offline"});return}}Object.assign(v,m),v.__status="resolved",v.isReady=!0,f==null||f(),e||(document.title=v.metaTitle,i(`Navigated to ${v.title}`))})(),U(v)};const De=B(!1);let k;new Promise(e=>{document.readyState==="complete"?e():window.addEventListener("load",e)});const Re=async(e="/service-worker.js",t={})=>{const{registrationOptions:r={}}=t;delete t.registrationOptions;const n=(o,...s)=>{t&&t[o]&&t[o](...s)};try{const o=await navigator.serviceWorker.register(e,r);n("registered",o),o.waiting?(k=o.waiting,n("updated",o)):o.addEventListener("updatefound",()=>{n("updatefound",o);const s=o.installing;s.addEventListener("statechange",()=>{s.state==="installed"&&(navigator.serviceWorker.controller?(k=o.waiting,n("updated",o)):n("cached",o))})})}catch(o){navigator.onLine||n("offline"),n("error",o)}navigator.serviceWorker.ready.then(o=>{n("ready",o)})},X=async()=>{(await navigator.serviceWorker.ready).unregister()},Ie=()=>{!k||k.postMessage({command:"skipWaiting"})},Se=async()=>{if(!("serviceWorker"in navigator))return;!!navigator.serviceWorker.controller&&X()};var Z=()=>({register:Re,unregister:X,hasNewWorker:De,newWorker:k,activateNewWorker:Ie,initSw:Se});const Ce=JSON.parse(document.getElementById("site-data").textContent),Ve=O(Ce);var R=()=>U(Ve);var ee=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r};const We={},Ne={class:"intro"};function je(e,t){return u(),_("header",Ne,[y("h1",null,[_e(e.$slots,"default")])])}var Me=ee(We,[["render",je]]);const qe={setup(){return{page:Te()}}},Ue=["innerHTML"];function Be(e,t,r,n,o,s){const i=Me,a=le("kirbytext");return u(),_(L,null,[d(i,null,{default:$(()=>[b(p(n.page.title),1)]),_:1}),n.page.isReady?de((u(),_("div",{key:0,class:"text",innerHTML:n.page.text},null,8,Ue)),[[a]]):H("",!0)],64)}var E=ee(qe,[["render",Be],["__scopeId","data-v-7de4c88c"]]),te=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));function He(e){switch(e){case"../views/About.vue":return c(()=>import("./About.5013b4d9.js"),["assets/About.5013b4d9.js","assets/About.4c3c5c15.css","assets/vendor.b677c224.js"]);case"../views/Album.vue":return c(()=>import("./Album.3f5e0f7b.js"),["assets/Album.3f5e0f7b.js","assets/Album.56346695.css","assets/vendor.b677c224.js"]);case"../views/Default.vue":return c(()=>Promise.resolve().then(function(){return te}),void 0);case"../views/Error.vue":return c(()=>import("./Error.fb494baa.js"),["assets/Error.fb494baa.js","assets/Error.e30c41b7.css","assets/vendor.b677c224.js"]);case"../views/Home.vue":return c(()=>import("./Home.b155c327.js"),["assets/Home.b155c327.js","assets/Home.e021014d.css","assets/vendor.b677c224.js"]);case"../views/Note.vue":return c(()=>import("./Note.a11e45c2.js"),["assets/Note.a11e45c2.js","assets/Note.99cbea75.css","assets/vendor.b677c224.js"]);case"../views/Notes.vue":return c(()=>import("./Notes.22ebccca.js"),["assets/Notes.22ebccca.js","assets/Notes.6298f7e3.css","assets/vendor.b677c224.js"]);case"../views/Photography.vue":return c(()=>import("./Photography.788608f9.js"),["assets/Photography.788608f9.js","assets/Photography.fbab1377.css","assets/vendor.b677c224.js"]);default:return new Promise(function(t,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}function ze(e){switch(e){case"../views/About.vue":return c(()=>import("./About.5013b4d9.js"),["assets/About.5013b4d9.js","assets/About.4c3c5c15.css","assets/vendor.b677c224.js"]);case"../views/Album.vue":return c(()=>import("./Album.3f5e0f7b.js"),["assets/Album.3f5e0f7b.js","assets/Album.56346695.css","assets/vendor.b677c224.js"]);case"../views/Default.vue":return c(()=>Promise.resolve().then(function(){return te}),void 0);case"../views/Error.vue":return c(()=>import("./Error.fb494baa.js"),["assets/Error.fb494baa.js","assets/Error.e30c41b7.css","assets/vendor.b677c224.js"]);case"../views/Home.vue":return c(()=>import("./Home.b155c327.js"),["assets/Home.b155c327.js","assets/Home.e021014d.css","assets/vendor.b677c224.js"]);case"../views/Note.vue":return c(()=>import("./Note.a11e45c2.js"),["assets/Note.a11e45c2.js","assets/Note.99cbea75.css","assets/vendor.b677c224.js"]);case"../views/Notes.vue":return c(()=>import("./Notes.22ebccca.js"),["assets/Notes.22ebccca.js","assets/Notes.6298f7e3.css","assets/vendor.b677c224.js"]);case"../views/Photography.vue":return c(()=>import("./Photography.788608f9.js"),["assets/Photography.788608f9.js","assets/Photography.fbab1377.css","assets/vendor.b677c224.js"]);default:return new Promise(function(t,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const Fe=(e,t,r)=>{const n=document.documentElement.style.scrollBehavior||"auto";return r?V(C({},r),{behavior:n}):e.hash?{el:decodeURI(e.hash),behavior:n}:{top:0,behavior:n}},Ke=e=>{const t=R(),{isMultilang:r,languageCode:n}=Q(),o=r?`/${n}/`:"",s=[...t.children.map(a=>({path:`/${a.uri}`,component:()=>ze(`../views/${W(a.template)}.vue`).catch(()=>E)})),...t.children.filter(a=>a.childTemplate).map(a=>({path:`/${a.uri}/:id`,component:()=>He(`../views/${W(a.childTemplate)}.vue`).catch(()=>E)}))];s.find(({path:a})=>a==="/home").path="/",s.push({path:"/home",redirect:"/"}),s.push({path:"/:pathMatch(.*)*",component:E});const i=ve({history:pe(o),routes:s,scrollBehavior:Fe});e.use(i)};var Je=Object.freeze(Object.defineProperty({__proto__:null,install:Ke},Symbol.toStringTag,{value:"Module"}));const Ye={class:"footer"},Ge={class:"social"},Qe=["href"],Xe={setup(e){const t=R();return(r,n)=>{const o=A("router-link");return u(),_("footer",Ye,[d(o,{to:"/"},{default:$(()=>[b(" \xA9 "+p(new Date().getFullYear())+" / "+p(l(t).title),1)]),_:1}),y("nav",Ge,[(u(!0),_(L,null,z(l(t).social,s=>(u(),_("a",{key:s.url,href:s.url},p(s.platform),9,Qe))),128))])])}}};const Ze={"aria-live":"polite"},et={setup(e){const{hasNewWorker:t,activateNewWorker:r}=Z();return(n,o)=>(u(),_("aside",Ze,[l(t)?(u(),_("button",{key:0,id:"update-notification",onClick:o[0]||(o[0]=(...s)=>l(r)&&l(r)(...s))}," New app version available. Click to install. ")):H("",!0)]))}};const tt={class:"header"},rt={id:"menu",class:"menu"},nt={setup(e){const t=R(),r=P();return(n,o)=>{const s=A("router-link");return u(),_("header",tt,[d(s,{to:"/",class:"logo"},{default:$(()=>[b(p(l(t).title),1)]),_:1}),y("nav",rt,[(u(!0),_(L,null,z(l(t).children.filter(i=>i.isListed),i=>(u(),F(s,{key:i.uri,to:`/${i.uri}`,class:fe({"router-link-active":l(r).path.startsWith(`/${i.uri}/`)})},{default:$(()=>[b(p(i.title),1)]),_:2},1032,["to","class"]))),128))])])}}};const ot=["aria-live","textContent"],st={setup(e){const{announcer:t}=Y();return(r,n)=>(u(),_("div",{id:"announcer","aria-live":l(t).politeness,textContent:p(l(t).content)},null,8,ot))}};const it=["onClick"],at={setup(e){const t=B(null),r=P();me(r,()=>{t.value.focus()});const n=({target:o})=>{const{hash:s}=o;if(s){const i=document.querySelector(s);i==null||i.scrollIntoView(),i==null||i.focus()}};return(o,s)=>(u(),_("a",{ref_key:"skipLink",ref:t,href:"#main",class:"skip-to-content-link",onClick:he(n,["prevent"])}," Skip to content ",8,it))}},ct={class:"page"},ut={id:"main",tabindex:"-1"},_t={setup(e){const t=P();return(r,n)=>{const o=at,s=st,i=nt,a=A("router-view"),h=et,f=Xe;return u(),_(L,null,[d(o),d(s),y("div",ct,[d(i),y("main",ut,[(u(),F(a,{key:l(t).path}))])]),d(h),d(f)],64)}}};const re=ge(_t);var q;for(const e of Object.values({"./modules/kirbytext.js":we,"./modules/router.js":Je}))(q=e.install)==null||q.call(e,re);re.mount("#app");const{initSw:lt}=Z();lt();export{ee as _,Me as a,Te as u};
